---
allowed-tools: ["Read", "Write", "Edit", "Bash"]
description: "ユーザー要件をユーザーストーリー形式で定義"
---

# Step2: ユーザー要件の定義

## 概要
ターゲットユーザーがシステムを通じて何を達成したいのかを、**ユーザーストーリー**（As a [role], I want to [function], so that [value/purpose]）として具体的に記述します。

## 実行手順

### 1. 前ステップの成果物を確認
@docs/step1-idea-and-goals.md

### 2. 現在の日時を取得
!date "+%Y%m%d-%H%M%S"

### 3. 不足情報の特定と質問
Step1の内容を確認し、ユーザーストーリー作成に必要な情報を質問してください：

**確認すべき項目:**
- ターゲットユーザーの具体的なペルソナは明確ですか？
- 各ユーザーがシステムに求める主要な機能は何ですか？
- その機能で得られる価値やメリットは何ですか？
- 機能の優先度や重要度はどう分けられますか？
- 受け入れ基準（いつ「完成」と判断するか）は明確ですか？

### 4. 対話的情報収集
不足している情報について質問し、具体例を挙げながら詳細を引き出してください。

**ユーザーストーリー作成のための質問例:**
```
ユーザーストーリー作成のため、以下について詳しく教えてください：

1. ユーザータイプ/ペルソナ
   - 主要なユーザー層はどのような人たちですか？
   - それぞれの特徴やニーズは何ですか？

2. 求められる機能
   - 各ユーザータイプが「これができたらいいな」と思う機能は？
   - 具体的な使用シーンを教えてください

3. 得られる価値
   - その機能でユーザーの問題がどう解決されますか？
   - ユーザーにとってのメリットは何ですか？
```

### 5. ユーザーストーリー案の提示と承認
収集した情報を基に、以下の形式でユーザーストーリー案を提示してください：

```
以下のユーザーストーリーでStep2のドキュメントを作成します。内容をご確認ください：

## ペルソナ定義
[ユーザータイプと特徴]

## ユーザーストーリー
### 優先度：高
1. As a [ペルソナ]
   I want to [機能]
   So that [価値]
   **受け入れ基準**: [条件]

2. ...

### 優先度：中
...

この内容で問題ありませんか？修正や追加が必要な箇所があれば教えてください。
```

### 6. フィードバック反映とドキュメント作成
!mkdir -p docs

最終的に承認された内容で `docs/step2-user-requirements.md` を作成してください。

## 依存関係
- **依存元**: Step1（`docs/step1-idea-and-goals.md`）
- **依存先**: Step3（ユーザーインタラクション設計）

## 出力成果物
- `docs/step2-user-requirements.md`: ユーザーストーリー形式で記載された要件定義書

## 重要な対話ポイント
- ユーザーが「すべてのユーザー」と答えた場合は、具体的なユーザー像を散りぶって絞り込んでください
- 機能の詳細が曖昧な場合は、具体的な使用シーンやワークフローを聞き取ってください
- 受け入れ基準はテスト可能な具体的な条件にしてください
- 優先度の根拠（なぜその機能が重要か）も確認してください